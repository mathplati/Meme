<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ðŸ’˜</title>
  <style>
    :root{
      --bg1:#120012;
      --bg2:#2a0021;
      --bg3:#3a0030;
      --text: rgba(255,255,255,.94);
      --muted: rgba(255,255,255,.74);
      --glass: rgba(255,255,255,.09);
      --glow: rgba(255,120,190,.38);
      --glow2: rgba(190,120,255,.26);
      --btn: rgba(255,255,255,.94);
      --btnText:#240015;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      color:var(--text);
      font-family: ui-rounded, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      overflow:hidden;
      background:
        radial-gradient(900px 650px at 15% 10%, rgba(255,120,200,.25), transparent 60%),
        radial-gradient(900px 650px at 85% 18%, rgba(190,120,255,.22), transparent 60%),
        radial-gradient(1100px 700px at 50% 92%, rgba(255,255,255,.10), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2) 55%, var(--bg3));
    }

    .spark{
      position:fixed; inset:-30%;
      background:
        radial-gradient(16px 16px at 12% 28%, rgba(255,255,255,.62), transparent 60%),
        radial-gradient(10px 10px at 30% 70%, rgba(255,255,255,.42), transparent 60%),
        radial-gradient(14px 14px at 78% 34%, rgba(255,255,255,.56), transparent 60%),
        radial-gradient(18px 18px at 64% 82%, rgba(255,255,255,.28), transparent 60%);
      filter: blur(1px);
      opacity:.55;
      animation: twinkle 7s ease-in-out infinite alternate;
      pointer-events:none;
      z-index:0;
    }
    .grain{
      position:fixed; inset:0;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='260' height='260'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='260' height='260' filter='url(%23n)' opacity='.12'/%3E%3C/svg%3E");
      mix-blend-mode: overlay;
      pointer-events:none;
      z-index:1;
      opacity:.55;
    }
    @keyframes twinkle{
      from{ transform: translate3d(0,0,0) scale(1); opacity:.45 }
      to  { transform: translate3d(0,-10px,0) scale(1.03); opacity:.70 }
    }

    .layer{ position:fixed; inset:0; pointer-events:none; overflow:hidden; z-index:2; }
    .float{
      position:absolute;
      opacity:0;
      will-change: transform, opacity;
      animation:
        rise var(--dur) linear infinite,
        glowPulse calc(var(--dur) * .35) ease-in-out infinite;
      filter: drop-shadow(0 10px 22px rgba(0,0,0,.35));
      transform: translate3d(0,0,0);
    }
    .petal{
      position:absolute;
      width: 14px;
      height: 22px;
      border-radius: 14px 14px 14px 0;
      background: radial-gradient(12px 12px at 30% 30%, rgba(255,255,255,.45), transparent 60%),
                  linear-gradient(180deg, rgba(255,120,180,.85), rgba(180,40,110,.75));
      opacity:0;
      transform: translate3d(0,0,0) rotate(0deg);
      animation: petalFall var(--dur) linear infinite, fadeInOut var(--dur) ease-in-out infinite;
      filter: drop-shadow(0 14px 26px rgba(0,0,0,.45));
      will-change: transform, opacity;
    }

    @keyframes rise{
      from{ transform: translate3d(var(--x), 115vh, 0) rotate(var(--rot)) scale(var(--s)); opacity:0; }
      12%{ opacity:.92; }
      88%{ opacity:.92; }
      to  { transform: translate3d(calc(var(--x) + var(--drift)), -18vh, 0) rotate(calc(var(--rot) + 160deg)) scale(var(--s)); opacity:0; }
    }
    @keyframes glowPulse{
      0%,100%{ filter: drop-shadow(0 10px 22px rgba(0,0,0,.35)); }
      50%{ filter: drop-shadow(0 10px 30px rgba(255,120,190,.22)); }
    }
    @keyframes petalFall{
      from{ transform: translate3d(var(--x), -18vh, 0) rotate(var(--rot)); }
      to  { transform: translate3d(calc(var(--x) + var(--drift)), 120vh, 0) rotate(calc(var(--rot) + 520deg)); }
    }
    @keyframes fadeInOut{
      0%{opacity:0}
      10%{opacity:.85}
      90%{opacity:.85}
      100%{opacity:0}
    }

    .wrap{
      position:relative;
      height:100%;
      display:grid;
      place-items:center;
      padding:22px;
      z-index:3;
    }
    .card{
      width:min(920px, 100%);
      border-radius: 30px;
      border:1px solid rgba(255,255,255,.18);
      background: var(--glass);
      backdrop-filter: blur(18px);
      box-shadow: 0 30px 130px rgba(0,0,0,.58);
      overflow:hidden;
      opacity:0;
      transform: translateY(14px) scale(.99);
      animation: enter 1.05s cubic-bezier(.2,.9,.2,1) forwards;
      position:relative;
    }
    .card:before{
      content:"";
      position:absolute; inset:-2px;
      background:
        radial-gradient(800px 380px at 22% 18%, rgba(255,120,190,.20), transparent 60%),
        radial-gradient(820px 420px at 82% 78%, rgba(190,120,255,.18), transparent 60%);
      filter: blur(18px);
      opacity:.95;
      z-index:0;
    }
    @keyframes enter{ to{ opacity:1; transform: translateY(0) scale(1); } }
    .inner{ position:relative; z-index:1; padding: 22px; }

    .top{
      display:flex; justify-content:space-between; align-items:flex-start; gap:12px;
      margin-bottom: 10px;
    }
    .badge{
      display:inline-flex; align-items:center; gap:10px;
      padding:10px 12px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.08);
      color: var(--muted);
      font-weight:900;
      letter-spacing:.02em;
      font-size: 12px;
      user-select:none;
    }
    .dot{
      width:10px; height:10px; border-radius:999px;
      background: rgba(255,255,255,.92);
      box-shadow: 0 0 22px var(--glow);
    }

    .title{
      margin: 10px 0 10px;
      font-size: clamp(36px, 5.2vw, 70px);
      line-height:1.02;
      letter-spacing:-0.03em;
      text-shadow: 0 16px 60px rgba(0,0,0,.40);
    }
    .subtitle{
      margin: 0 0 16px;
      color: var(--muted);
      font-size: clamp(14px, 1.6vw, 18px);
      line-height:1.55;
      max-width: 70ch;
    }

    .letter{
      margin: 0 0 16px;
      border-radius: 22px;
      border:1px solid rgba(255,255,255,.16);
      background: rgba(0,0,0,.16);
      padding: 14px;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
    }
    .letter h3{
      margin:0 0 8px;
      font-size: 14px;
      letter-spacing:.10em;
      text-transform: uppercase;
      color: rgba(255,255,255,.72);
    }
    .type{
      margin:0;
      line-height:1.55;
      color: rgba(255,255,255,.90);
      font-size: 15px;
      min-height: 72px;
      white-space: pre-wrap;
    }
    .cursor{ display:inline-block; width:10px; animation: blink .9s step-end infinite; }
    @keyframes blink{ 50%{opacity:0} }

    .row{ display:flex; gap:12px; flex-wrap:wrap; align-items:center; }
    .btn{
      border:1px solid rgba(255,255,255,.18);
      background: rgba(255,255,255,.10);
      color: var(--text);
      padding: 14px 16px;
      border-radius: 18px;
      cursor:pointer;
      font-weight:1000;
      letter-spacing:.03em;
      transition: transform .18s ease, background .18s ease, box-shadow .18s ease;
      user-select:none;
    }
    .btn:hover{ transform: translateY(-1px); }
    .btn:active{ transform: translateY(0) scale(.98); }
    .btn.primary{
      background: var(--btn);
      color: var(--btnText);
      box-shadow: 0 24px 80px rgba(255,120,190,.26);
    }
    .btn.heart{
      background: rgba(255,120,190,.18);
      border-color: rgba(255,120,190,.35);
      box-shadow: 0 18px 70px rgba(255,120,190,.20);
    }

    .mini{
      margin-left:auto;
      color: rgba(255,255,255,.60);
      font-size: 12px;
      display:flex;
      align-items:center;
      gap:10px;
      user-select:none;
    }
    .pulse{
      width:10px; height:10px; border-radius:999px;
      background: rgba(255,255,255,.85);
      box-shadow: 0 0 20px var(--glow2);
      animation: pulse 1.15s ease-in-out infinite;
    }
    @keyframes pulse{
      0%,100%{ transform: scale(.9); opacity:.75 }
      50%{ transform: scale(1.25); opacity:1 }
    }

    /* Overlay vÃ­deo */
    .overlay{ position:fixed; inset:0; display:none; z-index:10; }
    .overlay.show{ display:block; }
    .veil{
      position:absolute; inset:0;
      background: rgba(0,0,0,.55);
      backdrop-filter: blur(20px);
      opacity:0;
      transition: opacity .38s ease;
    }
    .overlay.show .veil{ opacity:1; }
    .loveWash{
      position:absolute; inset:-10%;
      background:
        radial-gradient(900px 520px at 50% 65%, rgba(255,120,190,.26), transparent 60%),
        radial-gradient(900px 560px at 35% 40%, rgba(190,120,255,.20), transparent 60%);
      opacity:0;
      transform: scale(1.04);
      transition: opacity .48s ease, transform .48s ease;
      pointer-events:none;
    }
    .overlay.show .loveWash{ opacity:1; transform: scale(1); }

    .panel{
      position:absolute;
      inset: 7% 7%;
      display:flex;
      flex-direction:column;
      gap:12px;
      opacity:0;
      transform: translateY(14px) scale(.985);
      transition: opacity .48s ease, transform .48s ease;
    }
    .overlay.show .panel{ opacity:1; transform: translateY(0) scale(1); }

    /* No celular: vÃ­deo quase tela cheia */
    @media (max-width:720px){
      .panel{ inset: 10px; }
      .wrap{ padding:14px; }
      .inner{ padding:18px; }
    }

    .panelTop{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
    }

    .close{
      border:1px solid rgba(255,255,255,.16);
      background: rgba(255,255,255,.10);
      color: var(--text);
      padding:10px 12px;
      border-radius:999px;
      cursor:pointer;
      font-weight:900;
    }

    .videoShell{
      flex:1;
      border-radius: 26px;
      border:1px solid rgba(255,255,255,.18);
      overflow:hidden;
      background:#000;
      box-shadow: 0 36px 140px rgba(0,0,0,.70);
      min-height: 240px;
    }

    /* Faz o player usar o espaÃ§o todo do container */
    video{
      width:100%;
      height:100%;
      display:block;
      background:#000;
      object-fit: contain;
    }

    .cap{
      display:flex;
      justify-content:space-between;
      align-items:flex-end;
      flex-wrap:wrap;
      gap:10px;
      color: rgba(255,255,255,.74);
      padding: 0 4px;
    }
    .cap strong{ color: rgba(255,255,255,.94); }

    .burst{ position:fixed; inset:0; pointer-events:none; z-index:20; }

    @media (prefers-reduced-motion: reduce){
      .spark,.grain,.float,.petal{ animation:none !important; }
      .card{ animation:none; opacity:1; transform:none; }
      .veil,.loveWash,.panel{ transition:none !important; }
    }
  </style>
</head>
<body>
  <div class="spark" aria-hidden="true"></div>
  <div class="grain" aria-hidden="true"></div>
  <div class="layer" id="layer" aria-hidden="true"></div>

  <div class="wrap">
    <div class="card">
      <div class="inner">
        <div class="top">
          <div class="badge"><span class="dot"></span> amor detectado â€¢ modo romance</div>
          <div class="badge" id="seal">ðŸ’ž</div>
        </div>

        <h1 class="title" id="title">Guilhermeâ€¦ ðŸ’˜</h1>
        <p class="subtitle" id="subtitle">
          VocÃª abriu o QR e o mundo inteiro comeÃ§ou a ficarâ€¦ <i>mais rosa</i>. Isso Ã© um sinal.
        </p>

        <div class="letter">
          <h3>Carta</h3>
          <p class="type" id="type"></p>
        </div>

        <div class="row">
          <button class="btn primary" id="play">CLIQUE AQUI ðŸ’˜</button>
          <button class="btn heart" id="more">MAIS AMOR ðŸ’–</button>

          <div class="mini" title="batimentos do coraÃ§Ã£o (meme)">
            <span class="pulse"></span>
            <span id="bpm">batimentos: 120</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Overlay do vÃ­deo -->
  <div class="overlay" id="overlay" aria-hidden="true">
    <div class="veil" id="veil"></div>
    <div class="loveWash" aria-hidden="true"></div>

    <div class="panel" role="dialog" aria-modal="true" aria-label="VÃ­deo">
      <div class="panelTop">
        <button class="close" id="close" aria-label="Fechar">âœ• Fechar</button>
        <button class="btn primary" id="fullscreenBtn" aria-label="Tela cheia">TELA CHEIA ðŸ“±</button>
      </div>

      <div class="videoShell" id="videoShell">
        <video id="video" controls playsinline preload="metadata" poster="assets/poster.jpg">
          <source src="https://www.dropbox.com/scl/fi/cshixmktchiyrp305ga5z/V-deo-16-12-2025-21-18-29.mov?rlkey=507hmm2um6dm35oyenhh7q1qa&st=ckfmkc8h&dl=0" type="video/mp4" />
          Seu navegador nÃ£o suporta vÃ­deo.
        </video>
      </div>

      <div class="cap">
        <div><strong>Agora sim.</strong> Isso aqui Ã© cinema romÃ¢ntico.</div>
        <div>ðŸ’˜ðŸ’˜ðŸ’˜</div>
      </div>
    </div>
  </div>

  <script>
    // ===== CONFIG =====
    const NOME = "Guilherme";
    document.getElementById("title").textContent = `${NOME}â€¦ ðŸ’˜`;

    // Carta digitando
    const carta = [
      `Oi, ${NOME}.`,
      "",
      "Se vocÃª chegou atÃ© aqui, Ã© porque o amor fez um QR code sÃ³ pra vocÃª.",
      "E quando eu digo amorâ€¦ eu digo aquele tipo que dÃ¡ risada sozinho olhando pro celular.",
      "",
      "Hoje nÃ£o tem vergonha: sÃ³ tem coraÃ§Ã£o.",
      "Tem carinho. Tem destino. Tem um vÃ­deo.",
      "",
      "EntÃ£o respiraâ€¦ e clica.",
      "Porque o romance comeÃ§ou. ðŸ’ž"
    ].join("\\n");

    const typeEl = document.getElementById("type");
    let idx = 0;
    function escapeHtml(s){
      return s
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }
    function typewrite(){
      const next = carta.slice(0, idx++);
      typeEl.innerHTML = escapeHtml(next) + `<span class="cursor">|</span>`;
      if (idx <= carta.length) requestAnimationFrame(typewrite);
      else typeEl.innerHTML = escapeHtml(carta);
    }
    setTimeout(typewrite, 250);

    // Background: coraÃ§Ãµes + pÃ©talas
    const layer = document.getElementById("layer");
    const hearts = ["ðŸ’—","ðŸ’–","ðŸ’˜","ðŸ’","ðŸ’ž","â¤ï¸","ðŸ’“","ðŸ’Ÿ","ðŸ’•","ðŸ’œ","ðŸ©·"];
    const seals = ["ðŸ’ž","ðŸ’˜","ðŸ’–","ðŸ’","ðŸ©·","ðŸ’•","ðŸ’—"];
    const sealEl = document.getElementById("seal");

    function rand(a,b){ return a + Math.random()*(b-a); }

    function spawnHeart(){
      const s = document.createElement("span");
      s.className = "float";
      s.textContent = hearts[Math.floor(Math.random()*hearts.length)];

      const x = rand(0,100);
      const drift = rand(-18,18);
      const rot = rand(-60,60) + "deg";
      const scale = rand(.65, 1.55).toFixed(2);
      const dur = rand(6.5, 12.5).toFixed(2) + "s";
      const delay = rand(0, 2.5).toFixed(2) + "s";

      s.style.setProperty("--x", x + "vw");
      s.style.setProperty("--drift", drift + "vw");
      s.style.setProperty("--rot", rot);
      s.style.setProperty("--s", scale);
      s.style.setProperty("--dur", dur);
      s.style.animationDelay = delay;
      s.style.fontSize = (14 + Math.random()*18) + "px";

      layer.appendChild(s);
      setTimeout(()=> s.remove(), (parseFloat(dur)*1000) + 3500);
    }

    function spawnPetal(){
      const p = document.createElement("div");
      p.className = "petal";
      const x = rand(0,100);
      const drift = rand(-22,22);
      const rot = rand(-40,40) + "deg";
      const dur = rand(7.5, 14.0).toFixed(2) + "s";
      const delay = rand(0, 2.8).toFixed(2) + "s";
      p.style.setProperty("--x", x + "vw");
      p.style.setProperty("--drift", drift + "vw");
      p.style.setProperty("--rot", rot);
      p.style.setProperty("--dur", dur);
      p.style.animationDelay = delay;
      p.style.width = (10 + Math.random()*12) + "px";
      p.style.height = (16 + Math.random()*18) + "px";
      layer.appendChild(p);
      setTimeout(()=> p.remove(), (parseFloat(dur)*1000) + 3500);
    }

    for(let i=0;i<52;i++) spawnHeart();
    for(let i=0;i<26;i++) spawnPetal();
    setInterval(spawnHeart, 180);
    setInterval(spawnPetal, 340);

    setInterval(()=>{ sealEl.textContent = seals[Math.floor(Math.random()*seals.length)]; }, 1400);

    const bpmEl = document.getElementById("bpm");
    setInterval(()=>{ bpmEl.textContent = `batimentos: ${Math.floor(rand(108,142))}`; }, 900);

    // ExplosÃ£o de amor
    function loveBurst(){
      const layer2 = document.createElement("div");
      layer2.className = "burst";
      document.body.appendChild(layer2);

      const count = 46;
      for(let i=0;i<count;i++){
        const el = document.createElement("div");
        el.textContent = hearts[Math.floor(Math.random()*hearts.length)];
        el.style.position = "absolute";
        el.style.left = (Math.random()*100) + "vw";
        el.style.top  = (55 + Math.random()*35) + "vh";
        el.style.fontSize = (18 + Math.random()*26) + "px";
        el.style.opacity = "0.98";
        layer2.appendChild(el);

        const drift = (Math.random()-0.5)*280;
        const up = 320 + Math.random()*620;
        const spin = (Math.random()*360 - 180);

        el.animate([
          { transform:`translate(0,0) rotate(0deg) scale(1)`, opacity:1 },
          { transform:`translate(${drift}px, ${-up}px) rotate(${spin}deg) scale(1.15)`, opacity:0 }
        ], { duration: 900 + Math.random()*750, easing:"cubic-bezier(.2,.85,.2,1)" });
      }
      setTimeout(()=> layer2.remove(), 1900);
    }

    // Overlay / VÃ­deo
    const overlay = document.getElementById("overlay");
    const video = document.getElementById("video");
    const closeBtn = document.getElementById("close");
    const veil = document.getElementById("veil");
    const fullscreenBtn = document.getElementById("fullscreenBtn");
    const videoShell = document.getElementById("videoShell");

    function openVideo(){
      loveBurst();
      overlay.classList.add("show");
      overlay.setAttribute("aria-hidden","false");

      setTimeout(() => {
        video.currentTime = 0;
        const p = video.play();
        if (p && p.catch) p.catch(()=>{});
      }, 240);
    }
    function closeVideo(){
      overlay.classList.remove("show");
      overlay.setAttribute("aria-hidden","true");
      video.pause();
    }

    document.getElementById("play").addEventListener("click", openVideo);
    closeBtn.addEventListener("click", closeVideo);
    veil.addEventListener("click", closeVideo);
    window.addEventListener("keydown", (e)=> {
      if(e.key === "Escape" && overlay.classList.contains("show")) closeVideo();
    });

    // BotÃ£o tela cheia (Android/desktop) + fallback iPhone
    fullscreenBtn.addEventListener("click", async () => {
      try{
        // 1) iPhone Safari (modo fullscreen nativo do vÃ­deo)
        if (typeof video.webkitEnterFullscreen === "function") {
          video.webkitEnterFullscreen();
          return;
        }
        // 2) Fullscreen API (Chrome/Android/desktop)
        const el = videoShell;
        if (el.requestFullscreen) await el.requestFullscreen();
        else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();
      }catch{
        // Se falhar, normalmente os controles do vÃ­deo jÃ¡ tÃªm botÃ£o de fullscreen no Android.
        alert("Se nÃ£o entrar em tela cheia: use o botÃ£o de tela cheia do prÃ³prio player (nos controles).");
      }
    });

    // Mais amor (troca subtitle e intensifica)
    const subEl = document.getElementById("subtitle");
    const extras = [
      "VocÃª nÃ£o Ã© sÃ³ bonitoâ€¦ vocÃª Ã© perigoso pro meu coraÃ§Ã£o. ðŸ©·",
      "Se for pra ser bobo, que seja com vocÃª. ðŸ’•",
      "O universo conspiraâ€¦ e eu tambÃ©m. ðŸ’ž",
      "Eu juro: esse QR code devia ser considerado prova de amor. ðŸ’Œ",
      "Se amor fosse filtro, vocÃª era o favorito. âœ¨ðŸ’˜"
    ];
    document.getElementById("more").addEventListener("click", ()=>{
      loveBurst();
      subEl.textContent = extras[Math.floor(Math.random()*extras.length)];
      for(let i=0;i<12;i++) spawnHeart();
      for(let i=0;i<6;i++) spawnPetal();
    });
  </script>
</body>
</html>

